

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Twig for Template Designers &mdash; Twig v1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Twig v1 documentation" href="index.html" />
    <link rel="next" title="Twig for Developers" href="api.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api.html" title="Twig for Developers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Twig v1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="twig-for-template-designers">
<h1>Twig for Template Designers<a class="headerlink" href="#twig-for-template-designers" title="Permalink to this headline">¶</a></h1>
<p>This document describes the syntax and semantics of the template engine and
will be most useful as reference to those creating Twig templates.</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>A template is simply a text file. It can generate any text-based format (HTML,
XML, CSV, LaTeX, etc.). It doesn&#8217;t have a specific extension, <tt class="docutils literal"><span class="pre">.html</span></tt> or
<tt class="docutils literal"><span class="pre">.xml</span></tt> are just fine.</p>
<p>A template contains <strong>variables</strong> or <strong>expressions</strong>, which get replaced with
values when the template is evaluated, and tags, which control the logic of
the template.</p>
<p>Below is a minimal template that illustrates a few basics. We will cover the
details later in that document:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&gt;</span>
<span class="x">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="x">  &lt;head&gt;</span>
<span class="x">    &lt;title&gt;My Webpage&lt;/title&gt;</span>
<span class="x">  &lt;/head&gt;</span>
<span class="x">  &lt;body&gt;</span>
<span class="x">    &lt;ul id=&quot;navigation&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;li&gt;&lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;/ul&gt;</span>

<span class="x">    &lt;h1&gt;My Webpage&lt;/h1&gt;</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">a_variable</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>There are two kinds of delimiters: <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></tt> and <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></tt>. The first
one is used to execute statements such as for-loops, the latter prints the
result of an expression to the template.</p>
</div>
<div class="section" id="ides-integration">
<h2>IDEs Integration<a class="headerlink" href="#ides-integration" title="Permalink to this headline">¶</a></h2>
<p>Many IDEs support syntax highlighting and auto-completion for Twig:</p>
<ul class="simple">
<li><em>Textmate</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></li>
<li><em>Vim</em> via the <a class="reference external" href="http://jinja.pocoo.org/2/documentation/integration">Jinja syntax plugin</a></li>
<li><em>Netbeans</em> via the <a class="reference external" href="https://github.com/blogsh/Twig-netbeans">Twig syntax plugin</a></li>
<li><em>PhpStorm</em> (native as of 2.1)</li>
<li><em>Eclipse</em> via the <a class="reference external" href="https://github.com/pulse00/Twig-Eclipse-Plugin">Twig plugin</a></li>
<li><em>Sublime Text</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></li>
<li><em>GtkSourceView</em> via the <a class="reference external" href="https://github.com/gabrielcorpse/gedit-twig-template-language">Twig language definition</a> (used by gedit and other projects)</li>
</ul>
</div>
<div class="section" id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<p>The application passes variables to the templates you can mess around in the
template. Variables may have attributes or elements on them you can access
too. How a variable looks like, heavily depends on the application providing
those.</p>
<p>You can use a dot (<tt class="docutils literal"><span class="pre">.</span></tt>) to access attributes of a variable, alternative the
so-called &#8220;subscript&#8221; syntax (<tt class="docutils literal"><span class="pre">[]</span></tt>) can be used. The following lines do the
same:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">foo.bar</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span><span class="o">[</span><span class="s1">&#39;bar&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It&#8217;s important to know that the curly braces are <em>not</em> part of the
variable but the print statement. If you access variables inside tags
don&#8217;t put the braces around.</p>
</div>
<p>If a variable or attribute does not exist you will get back a <tt class="docutils literal"><span class="pre">null</span></tt> value
(which can be tested with the <tt class="docutils literal"><span class="pre">none</span></tt> expression).</p>
<div class="sidebar">
<p class="first sidebar-title">Implementation</p>
<p>For convenience sake <tt class="docutils literal"><span class="pre">foo.bar</span></tt> does the following things on the PHP
layer:</p>
<ul class="simple">
<li>check if <tt class="docutils literal"><span class="pre">foo</span></tt> is an array and <tt class="docutils literal"><span class="pre">bar</span></tt> a valid element;</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">bar</span></tt> is a valid property;</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">bar</span></tt> is a valid method
(even if <tt class="docutils literal"><span class="pre">bar</span></tt> is the constructor - use <tt class="docutils literal"><span class="pre">__construct()</span></tt> instead);</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">getBar</span></tt> is a valid method;</li>
<li>if not, and if <tt class="docutils literal"><span class="pre">foo</span></tt> is an object, check that <tt class="docutils literal"><span class="pre">isBar</span></tt> is a valid method;</li>
<li>if not, return a <tt class="docutils literal"><span class="pre">null</span></tt> value.</li>
</ul>
<p><tt class="docutils literal"><span class="pre">foo['bar']</span></tt> on the other hand works mostly the same with the a small
difference in the order:</p>
<ul class="simple">
<li>check if <tt class="docutils literal"><span class="pre">foo</span></tt> is an array and <tt class="docutils literal"><span class="pre">bar</span></tt> a valid element;</li>
<li>if not, return a <tt class="docutils literal"><span class="pre">null</span></tt> value.</li>
</ul>
<p>Using the alternative syntax is also useful to dynamically get attributes
from arrays:</p>
<div class="last highlight-jinja"><div class="highlight"><pre><span class="x">foo[bar]</span>
</pre></div>
</div>
</div>
<p>Twig always references the following variables:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">_self</span></tt>: references the current template;</li>
<li><tt class="docutils literal"><span class="pre">_context</span></tt>: references the current context;</li>
<li><tt class="docutils literal"><span class="pre">_charset</span></tt>: references the current charset.</li>
</ul>
</div>
<div class="section" id="filters">
<h2>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h2>
<p>Variables can be modified by <strong>filters</strong>. Filters are separated from the
variable by a pipe symbol (<tt class="docutils literal"><span class="pre">|</span></tt>) and may have optional arguments in
parentheses. Multiple filters can be chained. The output of one filter is
applied to the next.</p>
<p><tt class="docutils literal"><span class="pre">{{</span> <span class="pre">name|striptags|title</span> <span class="pre">}}</span></tt> for example will remove all HTML tags from the
<tt class="docutils literal"><span class="pre">name</span></tt> and title-cases it. Filters that accept arguments have parentheses
around the arguments, like a function call. This example will join a list by
commas: <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">list|join(',</span> <span class="pre">')</span> <span class="pre">}}</span></tt>.</p>
<p>The built-in filters section below describes all the built-in filters.</p>
</div>
<div class="section" id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<p>To comment-out part of a line in a template, use the comment syntax <tt class="docutils literal"><span class="pre">{#</span> <span class="pre">...</span>
<span class="pre">#}</span></tt>. This is useful to comment out parts of the template for debugging or to
add information for other template designers or yourself:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# note: disabled template because we no longer use this</span>
<span class="c">    {% for user in users %}</span>
<span class="c">        ...</span>
<span class="c">    {% endfor %}</span>
<span class="c">#}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="whitespace-control">
<h2>Whitespace Control<a class="headerlink" href="#whitespace-control" title="Permalink to this headline">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">New in version 1.1: </span>Tag level whitespace control was added in Twig 1.1.</p>
<p>The first newline after a template tag is removed automatically (like in PHP.)
Whitespace is not further modified by the template engine, so each whitespace
(spaces, tabs, newlines etc.) is returned unchanged.</p>
<p>Use the <tt class="docutils literal"><span class="pre">spaceless</span></tt> tag to remove whitespace between HTML tags:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">spaceless</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div&gt;</span>
<span class="x">        &lt;strong&gt;foo&lt;/strong&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endspaceless</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# output will be &lt;div&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/div&gt; #}</span><span class="x"></span>
</pre></div>
</div>
<p>In addition to the spaceless tag you can also control whitespace on a per tag
level.  By using the whitespace control modifier on your tags you can trim
leading and or trailing whitespace from any tag type:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">&#39;no spaces&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="c">{#- No leading/trailing whitespace -#}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">if</span> <span class="kp">true</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> -<span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span><span class="x"></span>

<span class="c">{# output &#39;no spaces&#39; #}</span><span class="x"></span>
</pre></div>
</div>
<p>The above sample shows the default whitespace control modifier, and how you can
use it to remove whitespace around tags.  Trimming space will consume all whitespace
for that side of the tag.  It is possible to use whitespace trimming on one side
of a tag:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">&#39;no spaces&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;li&gt;    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> <span class="cp">}}</span><span class="x">    &lt;/li&gt;</span>

<span class="c">{# outputs &#39;&lt;li&gt;no spaces    &lt;/li&gt;&#39; #}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="escaping">
<h2>Escaping<a class="headerlink" href="#escaping" title="Permalink to this headline">¶</a></h2>
<p>It is sometimes desirable or even necessary to have Twig ignore parts it would
otherwise handle as variables or blocks. For example if the default syntax is
used and you want to use <tt class="docutils literal"><span class="pre">{{</span></tt> as raw string in the template and not start a
variable you have to use a trick.</p>
<p>The easiest way is to output the variable delimiter (<tt class="docutils literal"><span class="pre">{{</span></tt>) by using a variable
expression:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="s1">&#39;{{&#39;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>For bigger sections it makes sense to mark a block <tt class="docutils literal"><span class="pre">raw</span></tt>. For example to put
Twig syntax as example into a template you can use this snippet:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">raw</span> <span class="cp">%}</span>
  &lt;ul&gt;
  {% for item in seq %}
    &lt;li&gt;{{ item }}&lt;/li&gt;
  {% endfor %}
  &lt;/ul&gt;
<span class="cp">{%</span> <span class="k">endraw</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="template-inheritance">
<h2>Template Inheritance<a class="headerlink" href="#template-inheritance" title="Permalink to this headline">¶</a></h2>
<p>The most powerful part of Twig is template inheritance. Template inheritance
allows you to build a base &#8220;skeleton&#8221; template that contains all the common
elements of your site and defines <strong>blocks</strong> that child templates can
override.</p>
<p>Sounds complicated but is very basic. It&#8217;s easiest to understand it by
starting with an example.</p>
<div class="section" id="base-template">
<h3>Base Template<a class="headerlink" href="#base-template" title="Permalink to this headline">¶</a></h3>
<p>This template, which we&#8217;ll call <tt class="docutils literal"><span class="pre">base.html</span></tt>, defines a simple HTML skeleton
document that you might use for a simple two-column page. It&#8217;s the job of
&#8220;child&#8221; templates to fill the empty blocks with content:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&gt;</span>
<span class="x">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;</span>
<span class="x">    &lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"> - My Webpage&lt;/title&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">  &lt;div id=&quot;content&quot;&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">&lt;/div&gt;</span>
<span class="x">  &lt;div id=&quot;footer&quot;&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &amp;copy; Copyright 2009 by &lt;a href=&quot;http://domain.invalid/&quot;&gt;you&lt;/a&gt;.</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;/div&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>In this example, the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tags define four blocks that child
templates can fill in. All the <tt class="docutils literal"><span class="pre">block</span></tt> tag does is to tell the template
engine that a child template may override those portions of the template.</p>
</div>
<div class="section" id="child-template">
<h3>Child Template<a class="headerlink" href="#child-template" title="Permalink to this headline">¶</a></h3>
<p>A child template might look like this:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x">Index</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  &lt;style type=&quot;text/css&quot;&gt;</span>
<span class="x">    .important { color: #336699; }</span>
<span class="x">  &lt;/style&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;h1&gt;Index&lt;/h1&gt;</span>
<span class="x">  &lt;p class=&quot;important&quot;&gt;</span>
<span class="x">    Welcome on my awesome homepage.</span>
<span class="x">  &lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt> tag is the key here. It tells the template engine that
this template &#8220;extends&#8221; another template. When the template system evaluates
this template, first it locates the parent. The extends tag should be the
first tag in the template.</p>
<p>The filename of the template depends on the template loader. For example the
<tt class="docutils literal"><span class="pre">Twig_Loader_Filesystem</span></tt> allows you to access other templates by giving the
filename. You can access templates in subdirectories with a slash:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;layout/default.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>But this behavior can depend on the application embedding Twig. Note that
since the child template doesn&#8217;t define the <tt class="docutils literal"><span class="pre">footer</span></tt> block, the value from
the parent template is used instead.</p>
<p>You can&#8217;t define multiple <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tags with the same name in the same
template. This limitation exists because a block tag works in &#8220;both&#8221;
directions. That is, a block tag doesn&#8217;t just provide a hole to fill - it also
defines the content that fills the hole in the <em>parent</em>. If there were two
similarly-named <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tags in a template, that template&#8217;s parent
wouldn&#8217;t know which one of the blocks&#8217; content to use.  Block names should
consist of alphanumeric characters, and underscores. Dashes are not permitted.</p>
<p>If you want to print a block multiple times you can however use the
<tt class="docutils literal"><span class="pre">block</span></tt> function:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">&lt;/title&gt;</span>
<span class="x">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;title&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/h1&gt;</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Like PHP, Twig does not support multiple inheritance. So you can only have one
extends tag called per rendering.</p>
</div>
<div class="section" id="parent-blocks">
<h3>Parent Blocks<a class="headerlink" href="#parent-blocks" title="Permalink to this headline">¶</a></h3>
<p>It&#8217;s possible to render the contents of the parent block by using the <tt class="docutils literal"><span class="pre">parent</span></tt>
function. This gives back the results of the parent block:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;h3&gt;Table Of Contents&lt;/h3&gt;</span>
<span class="x">  ...</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="named-block-end-tags">
<h3>Named Block End-Tags<a class="headerlink" href="#named-block-end-tags" title="Permalink to this headline">¶</a></h3>
<p>Twig allows you to put the name of the block after the end tag for better
readability:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">inner_sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      ...</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">inner_sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>However the name after the <tt class="docutils literal"><span class="pre">endblock</span></tt> word must match the block name.</p>
</div>
<div class="section" id="block-nesting-and-scope">
<h3>Block Nesting and Scope<a class="headerlink" href="#block-nesting-and-scope" title="Permalink to this headline">¶</a></h3>
<p>Blocks can be nested for more complex layouts. Per default, blocks have access
to variables from outer scopes:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">seq</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;li&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">loop_item</span> <span class="cp">%}{{</span> <span class="nv">item</span> <span class="cp">}}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="block-shortcuts">
<h3>Block Shortcuts<a class="headerlink" href="#block-shortcuts" title="Permalink to this headline">¶</a></h3>
<p>For blocks with few content, it&#8217;s possible to have a shortcut syntax. The
following constructs do the same:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">page_title</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="nv">page_title</span><span class="o">|</span><span class="nf">title</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="dynamic-inheritance">
<h3>Dynamic Inheritance<a class="headerlink" href="#dynamic-inheritance" title="Permalink to this headline">¶</a></h3>
<p>Twig supports dynamic inheritance by using a variable as the base template:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="nv">some_var</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>If the variable evaluates to a <tt class="docutils literal"><span class="pre">Twig_Template</span></tt> object, Twig will use it as
the parent template:</p>
<div class="highlight-python"><pre>// {% extends layout %}

$layout = $twig-&gt;loadTemplate('some_layout_template.twig');

$twig-&gt;display('template.twig', array('layout' =&gt; $layout));</pre>
</div>
</div>
<div class="section" id="conditional-inheritance">
<h3>Conditional Inheritance<a class="headerlink" href="#conditional-inheritance" title="Permalink to this headline">¶</a></h3>
<p>As a matter of fact, the template name can be any valid expression. So, it&#8217;s
also possible to make the inheritance mechanism conditional:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="nv">standalone</span> <span class="p">?</span> <span class="s2">&quot;minimum.html&quot;</span> <span class="o">:</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>In this example, the template will extend the &#8220;minimum.html&#8221; layout template
if the <tt class="docutils literal"><span class="pre">standalone</span></tt> variable evaluates to <tt class="docutils literal"><span class="pre">true</span></tt>, and &#8220;base.html&#8221;
otherwise.</p>
</div>
</div>
<div class="section" id="import-context-behavior">
<h2>Import Context Behavior<a class="headerlink" href="#import-context-behavior" title="Permalink to this headline">¶</a></h2>
<p>Per default included templates are passed the current context.</p>
<p>The context that is passed to the included template includes variables defined
in the template:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">box</span> <span class="k">in</span> <span class="nv">boxes</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;render_box.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The included template <tt class="docutils literal"><span class="pre">render_box.html</span></tt> is able to access <tt class="docutils literal"><span class="pre">box</span></tt>.</p>
</div>
<div class="section" id="html-escaping">
<h2>HTML Escaping<a class="headerlink" href="#html-escaping" title="Permalink to this headline">¶</a></h2>
<p>When generating HTML from templates, there&#8217;s always a risk that a variable
will include characters that affect the resulting HTML. There are two
approaches: manually escaping each variable or automatically escaping
everything by default.</p>
<p>Twig supports both, automatic escaping is enabled by default.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Automatic escaping is only supported if the <em>escaper</em> extension has been
enabled (which is the default).</p>
</div>
<div class="section" id="working-with-manual-escaping">
<h3>Working with Manual Escaping<a class="headerlink" href="#working-with-manual-escaping" title="Permalink to this headline">¶</a></h3>
<p>If manual escaping is enabled it&#8217;s <strong>your</strong> responsibility to escape variables
if needed. What to escape? If you have a variable that <em>may</em> include any of
the following chars (<tt class="docutils literal"><span class="pre">&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&amp;</span></tt>, or <tt class="docutils literal"><span class="pre">&quot;</span></tt>) you <strong>have to</strong> escape it unless
the variable contains well-formed and trusted HTML. Escaping works by piping
the variable through the <tt class="docutils literal"><span class="pre">|e</span></tt> filter: <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">user.username|e</span> <span class="pre">}}</span></tt>.</p>
</div>
<div class="section" id="working-with-automatic-escaping">
<h3>Working with Automatic Escaping<a class="headerlink" href="#working-with-automatic-escaping" title="Permalink to this headline">¶</a></h3>
<p>Whether automatic escaping is enabled or not, you can mark a section of a
template to be escaped or not by using the <tt class="docutils literal"><span class="pre">autoescape</span></tt> tag:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">autoescape</span> <span class="kp">true</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  Everything will be automatically escaped in this block</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">autoescape</span> <span class="kp">false</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  Everything will be outputed as is in this block</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">autoescape</span> <span class="kp">true</span> <span class="nv">js</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  Everything will be automatically escaped in this block</span>
<span class="x">  using the js escaping strategy</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>When automatic escaping is enabled everything is escaped by default except for
values explicitly marked as safe. Those can be marked in the template by using
the <tt class="docutils literal"><span class="pre">|raw</span></tt> filter.</p>
<p>Functions returning template data (like macros and <tt class="docutils literal"><span class="pre">parent</span></tt>) always return
safe markup.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Twig is smart enough to not escape an already escaped value by the
<tt class="docutils literal"><span class="pre">escape</span></tt> filter.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The chapter for developers give more information about when and how
automatic escaping is applied.</p>
</div>
</div>
</div>
<div class="section" id="list-of-control-structures">
<h2>List of Control Structures<a class="headerlink" href="#list-of-control-structures" title="Permalink to this headline">¶</a></h2>
<p>A control structure refers to all those things that control the flow of a
program - conditionals (i.e. <tt class="docutils literal"><span class="pre">if</span></tt>/<tt class="docutils literal"><span class="pre">elseif</span></tt>/<tt class="docutils literal"><span class="pre">else</span></tt>), <tt class="docutils literal"><span class="pre">for</span></tt>-loops, as well as
things like blocks. Control structures appear inside <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></tt> blocks.</p>
<div class="section" id="for">
<h3>For<a class="headerlink" href="#for" title="Permalink to this headline">¶</a></h3>
<p>Loop over each item in a sequence. For example, to display a list of users
provided in a variable called <tt class="docutils literal"><span class="pre">users</span></tt>:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;h1&gt;Members&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A sequence can be either an array or an object implementing the
<tt class="docutils literal"><span class="pre">Traversable</span></tt> interface.</p>
</div>
<p>If you do need to iterate over a sequence of numbers, you can use the <tt class="docutils literal"><span class="pre">..</span></tt>
operator:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="m">0.</span><span class="nv">.10</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  * </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The above snippet of code would print all numbers from 0 to 10.</p>
<p>It can be also useful with letters:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">letter</span> <span class="k">in</span> <span class="s1">&#39;a&#39;</span><span class="p">..</span><span class="s1">&#39;z&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  * </span><span class="cp">{{</span> <span class="nv">letter</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">..</span></tt> operator can take any expression at both sides:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">letter</span> <span class="k">in</span> <span class="s1">&#39;a&#39;</span><span class="o">|</span><span class="nf">upper</span><span class="p">..</span><span class="s1">&#39;z&#39;</span><span class="o">|</span><span class="nf">upper</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  * </span><span class="cp">{{</span> <span class="nv">letter</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Inside of a <tt class="docutils literal"><span class="pre">for</span></tt> loop block you can access some special variables:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">loop.index</span></tt></td>
<td>The current iteration of the loop. (1 indexed)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">loop.index0</span></tt></td>
<td>The current iteration of the loop. (0 indexed)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">loop.revindex</span></tt></td>
<td>The number of iterations from the end of the loop (1 indexed)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">loop.revindex0</span></tt></td>
<td>The number of iterations from the end of the loop (0 indexed)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">loop.first</span></tt></td>
<td>True if first iteration</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">loop.last</span></tt></td>
<td>True if last iteration</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">loop.length</span></tt></td>
<td>The number of items in the sequence</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">loop.parent</span></tt></td>
<td>The parent context</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">loop.length</span></tt>, <tt class="docutils literal"><span class="pre">loop.revindex</span></tt>, <tt class="docutils literal"><span class="pre">loop.revindex0</span></tt>, and
<tt class="docutils literal"><span class="pre">loop.last</span></tt> variables are only available for PHP arrays, or objects that
implement the <tt class="docutils literal"><span class="pre">Countable</span></tt> interface.</p>
</div>
<p class="versionadded">
<span class="versionmodified">New in version 1.2: </span>The <tt class="docutils literal"><span class="pre">if</span></tt> modifier support has been added in Twig 1.2.</p>
<p>Unlike in PHP, it&#8217;s not possible to <tt class="docutils literal"><span class="pre">break</span></tt> or <tt class="docutils literal"><span class="pre">continue</span></tt> in a loop. You
can however filter the sequence during iteration which allows you to skip
items. The following example skips all the users which are not active:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;ul&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="k">if</span> <span class="nv">user.active</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>The advantage is that the special loop variable will count correctly thus not
counting the users not iterated over.</p>
<p>If no iteration took place because the sequence was empty, you can render a
replacement block by using <tt class="docutils literal"><span class="pre">else</span></tt>:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;ul&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;li&gt;&lt;em&gt;no user found&lt;/em&gt;&lt;/li&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>By default, a loop iterates over the values of the sequence. You can iterate
on keys by using the <tt class="docutils literal"><span class="pre">keys</span></tt> filter:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;h1&gt;Members&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">key</span> <span class="k">in</span> <span class="nv">users</span><span class="o">|</span><span class="nf">keys</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">key</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>You can also access both keys and values:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;h1&gt;Members&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">key</span><span class="o">,</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">key</span> <span class="cp">}}</span><span class="x">: </span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="if">
<h3>If<a class="headerlink" href="#if" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">if</span></tt> statement in Twig is comparable with the if statements of PHP. In
the simplest form you can use it to test if a variable is not empty:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;ul&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;/ul&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to test if the variable is defined, use <tt class="docutils literal"><span class="pre">if</span> <span class="pre">users</span> <span class="pre">is</span>
<span class="pre">defined</span></tt> instead.</p>
</div>
<p>For multiple branches <tt class="docutils literal"><span class="pre">elseif</span></tt> and <tt class="docutils literal"><span class="pre">else</span></tt> can be used like in PHP. You can use
more complex <tt class="docutils literal"><span class="pre">expressions</span></tt> there too:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">kenny.sick</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Kenny is sick.</span>
<span class="cp">{%</span> <span class="k">elseif</span> <span class="nv">kenny.dead</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    You killed Kenny!  You bastard!!!</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Kenny looks okay --- so far</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="macros">
<h3>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h3>
<p>Macros are comparable with functions in regular programming languages. They
are useful to put often used HTML idioms into reusable elements to not repeat
yourself.</p>
<p>Here is a small example of a macro that renders a form element:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&quot; size=&quot;</span><span class="cp">{{</span> <span class="nv">size</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">20</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Macros differs from native PHP functions in a few ways:</p>
<ul class="simple">
<li>Default argument values are defined by using the <tt class="docutils literal"><span class="pre">default</span></tt> filter in the
macro body;</li>
<li>Arguments of a macro are always optional.</li>
</ul>
<p>But as PHP functions, macros don&#8217;t have access to the current template
variables.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can pass the whole context as an argument by using the special
<tt class="docutils literal"><span class="pre">_context</span></tt> variable.</p>
</div>
<p>Macros can be defined in any template, and need to be &#8220;imported&#8221; before being
used (see the Import section for more information):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">import</span> <span class="s2">&quot;forms.html&quot;</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The above <tt class="docutils literal"><span class="pre">import</span></tt> call imports the &#8220;forms.html&#8221; file (which can contain only
macros, or a template and some macros), and import the functions as items of
the <tt class="docutils literal"><span class="pre">forms</span></tt> variable.</p>
<p>The macro can then be called at will:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;password&#39;</span><span class="o">,</span> <span class="kp">none</span><span class="o">,</span> <span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
<p>If macros are defined and used in the same template, you can use the
special <tt class="docutils literal"><span class="pre">_self</span></tt> variable, without importing them:</p>
<div class="highlight-jinja"><pre>&lt;p&gt;{{ _self.input('username') }}&lt;/p&gt;</pre>
</div>
<p>When you want to use a macro in another one from the same file, use the <tt class="docutils literal"><span class="pre">_self</span></tt>
variable:</p>
<div class="highlight-jinja"><pre>{% macro input(name, value, type, size) %}
  &lt;input type="{{ type|default('text') }}" name="{{ name }}" value="{{ value|e }}" size="{{ size|default(20) }}" /&gt;
{% endmacro %}

{% macro wrapped_input(name, value, type, size) %}
    &lt;div class="field"&gt;
        {{ _self.input(name, value, type, size) }}
    &lt;/div&gt;
{% endmacro %}</pre>
</div>
<p>When the macro is defined in another file, you need to import it:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# forms.html #}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&quot; size=&quot;</span><span class="cp">{{</span> <span class="nv">size</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">20</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# shortcuts.html #}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">wrapped_input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">import</span> <span class="s2">&quot;forms.html&quot;</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div class=&quot;field&quot;&gt;</span>
<span class="x">        </span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Filters<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Filter sections allow you to apply regular Twig filters on a block of template
data. Just wrap the code in the special <tt class="docutils literal"><span class="pre">filter</span></tt> section:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nf">upper</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  This text becomes uppercase</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>You can also chain filters:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nf">lower</span><span class="o">|</span><span class="nf">escape</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;strong&gt;SOME TEXT&lt;/strong&gt;</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>It should return <tt class="docutils literal"><span class="pre">&amp;lt;strong&amp;gt;some</span> <span class="pre">text&amp;lt;/strong&amp;gt;</span></tt>.</p>
</div>
<div class="section" id="assignments">
<h3>Assignments<a class="headerlink" href="#assignments" title="Permalink to this headline">¶</a></h3>
<p>Inside code blocks you can also assign values to variables. Assignments use
the <tt class="docutils literal"><span class="pre">set</span></tt> tag and can have multiple targets:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="o">~</span> <span class="s1">&#39;bar&#39;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span><span class="o">,</span> <span class="nv">bar</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="o">,</span> <span class="s1">&#39;bar&#39;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">set</span></tt> tag can also be used to &#8216;capture&#8217; chunks of text:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;div id=&quot;pagination&quot;&gt;</span>
<span class="x">    ...</span>
<span class="x">  &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endset</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">If you enable automatic output escaping, Twig will only consider the
content to be safe when capturing chunks of text.</p>
</div>
</div>
<div class="section" id="extends">
<h3>Extends<a class="headerlink" href="#extends" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">extends</span></tt> tag can be used to extend a template from another one. You can
have multiple of them in a file but only one of them may be executed at the
time. There is no support for multiple inheritance. See the section about
Template inheritance above for more information.</p>
</div>
<div class="section" id="block">
<h3>Block<a class="headerlink" href="#block" title="Permalink to this headline">¶</a></h3>
<p>Blocks are used for inheritance and act as placeholders and replacements at
the same time. They are documented in detail as part of the section about
Template inheritance above.</p>
</div>
<div class="section" id="include">
<h3>Include<a class="headerlink" href="#include" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">include</span></tt> statement is useful to include a template and return the
rendered content of that file into the current namespace:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;header.html&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  Body</span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;footer.html&#39;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Included templates have access to the variables of the active context.</p>
<p>You can add additional variables by passing them after the <tt class="docutils literal"><span class="pre">with</span></tt> keyword:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# the foo template will have access to the variables from the current context and the foo one #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;foo&#39;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">vars</span> <span class="o">=</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;foo&#39;</span> <span class="k">with</span> <span class="nv">vars</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>You can disable access to the context by appending the <tt class="docutils literal"><span class="pre">only</span></tt> keyword:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# only the foo variable will be accessible #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;foo&#39;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="nv">only</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# no variable will be accessible #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;foo&#39;</span> <span class="nv">only</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">When including a template created by an end user, you should consider
sandboxing it. More information in the &#8220;Twig for Developers&#8221; chapter.</p>
</div>
<p>The template name can be any valid Twig expression:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="nv">some_var</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">include</span> <span class="nv">ajax</span> <span class="p">?</span> <span class="s1">&#39;ajax.html&#39;</span> <span class="o">:</span> <span class="s1">&#39;not_ajax.html&#39;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>And if the expression evaluates to a <tt class="docutils literal"><span class="pre">Twig_Template</span></tt> object, Twig will use it
directly:</p>
<div class="highlight-python"><pre>// {% include template %}

$template = $twig-&gt;loadTemplate('some_template.twig');

$twig-&gt;loadTemplate('template.twig')-&gt;display(array('template' =&gt; $template));</pre>
</div>
</div>
<div class="section" id="import">
<h3>Import<a class="headerlink" href="#import" title="Permalink to this headline">¶</a></h3>
<p>Twig supports putting often used code into macros. These macros can go into
different templates and get imported from there.</p>
<p>There are two ways to import templates. You can import the complete template
into a variable or request specific macros from it.</p>
<p>Imagine we have a helper module that renders forms (called <tt class="docutils literal"><span class="pre">forms.html</span></tt>):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&quot; size=&quot;</span><span class="cp">{{</span> <span class="nv">size</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">20</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">textarea</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">rows</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;textarea name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; rows=&quot;</span><span class="cp">{{</span> <span class="nv">rows</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">10</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; cols=&quot;</span><span class="cp">{{</span> <span class="nv">cols</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">40</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/textarea&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The easiest and most flexible is importing the whole module into a variable.
That way you can access the attributes:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">import</span> <span class="s1">&#39;forms.html&#39;</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;dl&gt;</span>
<span class="x">    &lt;dt&gt;Username&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">    &lt;dt&gt;Password&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;password&#39;</span><span class="o">,</span> <span class="kp">none</span><span class="o">,</span> <span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">&lt;/dl&gt;</span>
<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">forms.textarea</span><span class="o">(</span><span class="s1">&#39;comment&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
<p>Alternatively you can import names from the template into the current
namespace:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">from</span> <span class="s1">&#39;forms.html&#39;</span> <span class="k">import</span> <span class="nv">input</span> <span class="k">as</span> <span class="nv">input_field</span><span class="o">,</span> <span class="nv">textarea</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;dl&gt;</span>
<span class="x">    &lt;dt&gt;Username&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">    &lt;dt&gt;Password&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">&#39;password&#39;</span><span class="o">,</span> <span class="nv">type</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">&lt;/dl&gt;</span>
<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">textarea</span><span class="o">(</span><span class="s1">&#39;comment&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
<p>Importing is not needed if the macros and the template are defined in the same
file; use the special <tt class="docutils literal"><span class="pre">_self</span></tt> variable instead:</p>
<div class="highlight-jinja"><pre>{# index.html template #}

{% macro textarea(name, value, rows) %}
    &lt;textarea name="{{ name }}" rows="{{ rows|default(10) }}" cols="{{ cols|default(40) }}"&gt;{{ value|e }}&lt;/textarea&gt;
{% endmacro %}

&lt;p&gt;{{ _self.textarea('comment') }}&lt;/p&gt;</pre>
</div>
<p>But you can still create an alias by importing from the <tt class="docutils literal"><span class="pre">_self</span></tt> variable:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# index.html template #}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">textarea</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">rows</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;textarea name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; rows=&quot;</span><span class="cp">{{</span> <span class="nv">rows</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">10</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; cols=&quot;</span><span class="cp">{{</span> <span class="nv">cols</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">40</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/textarea&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">import</span> <span class="p">_</span><span class="nv">self</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">forms.textarea</span><span class="o">(</span><span class="s1">&#39;comment&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="expressions">
<h2>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h2>
<p>Twig allows basic expressions everywhere. These work very similar to regular
PHP and even if you&#8217;re not working with PHP you should feel comfortable with
it.</p>
<p>The operator precedence is as follows, with the lowest-precedence operators
listed first: <tt class="docutils literal"><span class="pre">or</span></tt>, <tt class="docutils literal"><span class="pre">and</span></tt>, <tt class="docutils literal"><span class="pre">==</span></tt>, <tt class="docutils literal"><span class="pre">!=</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;=</span></tt>, <tt class="docutils literal"><span class="pre">&lt;=</span></tt>, <tt class="docutils literal"><span class="pre">in</span></tt>, <tt class="docutils literal"><span class="pre">+</span></tt>, <tt class="docutils literal"><span class="pre">-</span></tt>,
<tt class="docutils literal"><span class="pre">~</span></tt>, <tt class="docutils literal"><span class="pre">*</span></tt>, <tt class="docutils literal"><span class="pre">/</span></tt>, <tt class="docutils literal"><span class="pre">%</span></tt>, <tt class="docutils literal"><span class="pre">//</span></tt>, <tt class="docutils literal"><span class="pre">is</span></tt>, <tt class="docutils literal"><span class="pre">..</span></tt>, and <tt class="docutils literal"><span class="pre">**</span></tt>.</p>
<div class="section" id="literals">
<h3>Literals<a class="headerlink" href="#literals" title="Permalink to this headline">¶</a></h3>
<p>The simplest form of expressions are literals. Literals are representations
for PHP types such as strings, numbers, and arrays. The following literals
exist:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&quot;Hello</span> <span class="pre">World&quot;</span></tt>: Everything between two double or single quotes is a
string. They are useful whenever you need a string in the template (for
example as arguments to function calls, filters or just to extend or
include a template).</li>
<li><tt class="docutils literal"><span class="pre">42</span></tt> / <tt class="docutils literal"><span class="pre">42.23</span></tt>: Integers and floating point numbers are created by just
writing the number down. If a dot is present the number is a float,
otherwise an integer.</li>
<li><tt class="docutils literal"><span class="pre">[&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></tt>: Arrays are defined by a sequence of expressions
separated by a comma (<tt class="docutils literal"><span class="pre">,</span></tt>) and wrapped with squared brackets (<tt class="docutils literal"><span class="pre">[]</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;bar&quot;}</span></tt>: Hashes are defined by a list of keys and values
separated by a comma (<tt class="docutils literal"><span class="pre">,</span></tt>) and wrapped with curly braces (<tt class="docutils literal"><span class="pre">{}</span></tt>). A value
can be any valid expression.</li>
<li><tt class="docutils literal"><span class="pre">true</span></tt> / <tt class="docutils literal"><span class="pre">false</span></tt>: <tt class="docutils literal"><span class="pre">true</span></tt> represents the true value, <tt class="docutils literal"><span class="pre">false</span></tt>
represents the false value.</li>
<li><tt class="docutils literal"><span class="pre">none</span></tt>: <tt class="docutils literal"><span class="pre">none</span></tt> represents no specific value (the equivalent of <tt class="docutils literal"><span class="pre">null</span></tt> in
PHP). This is the value returned when a variable does not exist.</li>
</ul>
<p>Arrays and hashes can be nested:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="o">{</span><span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="o">}]</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="math">
<h3>Math<a class="headerlink" href="#math" title="Permalink to this headline">¶</a></h3>
<p>Twig allows you to calculate with values. This is rarely useful in templates
but exists for completeness&#8217; sake. The following operators are supported:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">+</span></tt>: Adds two objects together (the operands are casted to numbers). <tt class="docutils literal"><span class="pre">{{</span>
<span class="pre">1</span> <span class="pre">+</span> <span class="pre">1</span> <span class="pre">}}</span></tt> is <tt class="docutils literal"><span class="pre">2</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">-</span></tt>: Substracts the second number from the first one. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">3</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">}}</span></tt> is
<tt class="docutils literal"><span class="pre">1</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">/</span></tt>: Divides two numbers. The return value will be a floating point
number. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">}}</span></tt> is <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">0.5</span> <span class="pre">}}</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">%</span></tt>: Calculates the remainder of an integer division. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">11</span> <span class="pre">%</span> <span class="pre">7</span> <span class="pre">}}</span></tt> is
<tt class="docutils literal"><span class="pre">4</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">//</span></tt>: Divides two numbers and returns the truncated integer result. <tt class="docutils literal"><span class="pre">{{</span>
<span class="pre">20</span> <span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></tt> is <tt class="docutils literal"><span class="pre">2</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">*</span></tt>: Multiplies the left operand with the right one. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">}}</span></tt> would
return <tt class="docutils literal"><span class="pre">4</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">**</span></tt>: Raises the left operand to the power of the right operand. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">2**3</span>
<span class="pre">}}</span></tt> would return <tt class="docutils literal"><span class="pre">8</span></tt>.</li>
</ul>
</div>
<div class="section" id="logic">
<h3>Logic<a class="headerlink" href="#logic" title="Permalink to this headline">¶</a></h3>
<p>For <tt class="docutils literal"><span class="pre">if</span></tt> statements, <tt class="docutils literal"><span class="pre">for</span></tt> filtering or <tt class="docutils literal"><span class="pre">if</span></tt> expressions it can be useful to
combine multiple expressions:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">and</span></tt>: Returns true if the left and the right operands are both true.</li>
<li><tt class="docutils literal"><span class="pre">or</span></tt>: Returns true if the left or the right operand is true.</li>
<li><tt class="docutils literal"><span class="pre">not</span></tt>: Negates a statement.</li>
<li><tt class="docutils literal"><span class="pre">(expr)</span></tt>: Groups an expression.</li>
</ul>
</div>
<div class="section" id="comparisons">
<h3>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this headline">¶</a></h3>
<p>The following comparison operators are supported in any expression: <tt class="docutils literal"><span class="pre">==</span></tt>,
<tt class="docutils literal"><span class="pre">!=</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;=</span></tt>, and <tt class="docutils literal"><span class="pre">&lt;=</span></tt>.</p>
</div>
<div class="section" id="containment-operator">
<h3>Containment Operator<a class="headerlink" href="#containment-operator" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">in</span></tt> operator performs containment test.</p>
<p>It returns <tt class="docutils literal"><span class="pre">true</span></tt> if the left operand is contained in the right:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# returns true #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="s1">&#39;cd&#39;</span> <span class="k">in</span> <span class="s1">&#39;abcde&#39;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can use this filter to perform a containment test on strings, arrays,
or objects implementing the <tt class="docutils literal"><span class="pre">Traversable</span></tt> interface.</p>
</div>
<p>To perform a negative test, use the <tt class="docutils literal"><span class="pre">not</span> <span class="pre">in</span></tt> operator:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="m">1</span> <span class="k">not</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# is equivalent to #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">])</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="tests">
<h3>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">is</span></tt> operator performs tests. Tests can be used to test a variable against
a common expression. The right operand is name of the test:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# find out if a variable is odd #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">name</span> <span class="k">is</span> <span class="nf">odd</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Tests can accept arguments too:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Tests can be negated by using the <tt class="docutils literal"><span class="pre">not</span> <span class="pre">in</span></tt> operator:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="k">not</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# is equivalent to #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">))</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The built-in tests section below describes all the built-in tests.</p>
</div>
<div class="section" id="other-operators">
<h3>Other Operators<a class="headerlink" href="#other-operators" title="Permalink to this headline">¶</a></h3>
<p>The following operators are very useful but don&#8217;t fit into any of the other
two categories:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">..</span></tt>: Creates a sequence based on the operand before and after the
operator (see the <tt class="docutils literal"><span class="pre">for</span></tt> tag for some usage examples).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">|</span></tt>: Applies a filter.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">~</span></tt>: Converts all operands into strings and concatenates them. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">&quot;Hello</span>
<span class="pre">&quot;</span> <span class="pre">~</span> <span class="pre">name</span> <span class="pre">~</span> <span class="pre">&quot;!&quot;</span> <span class="pre">}}</span></tt> would return (assuming <tt class="docutils literal"><span class="pre">name</span></tt> is <tt class="docutils literal"><span class="pre">'John'</span></tt>) <tt class="docutils literal"><span class="pre">Hello</span>
<span class="pre">John!</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">.</span></tt>, <tt class="docutils literal"><span class="pre">[]</span></tt>: Gets an attribute of an object.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">?:</span></tt>: Twig supports the PHP ternary operator:</p>
<div class="highlight-jinja"><pre>{{ foo ? 'yes' : 'no' }}</pre>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="list-of-built-in-filters">
<h2>List of built-in Filters<a class="headerlink" href="#list-of-built-in-filters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="date">
<h3><tt class="docutils literal"><span class="pre">date</span></tt><a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h3>
<p class="versionadded">
<span class="versionmodified">New in version 1.1: </span>The timezone support has been added in Twig 1.1.</p>
<p>The <tt class="docutils literal"><span class="pre">date</span></tt> filter is able to format a date to a given format:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">post.published_at</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s2">&quot;m/d/Y&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">date</span></tt> filter accepts any date format supported by <a class="reference external" href="http://www.php.net/manual/en/datetime.construct.php">DateTime</a> and
<tt class="docutils literal"><span class="pre">DateTime</span></tt> instances. For instance, to display the current date, filter the
word &#8220;now&#8221;:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="s2">&quot;now&quot;</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s2">&quot;m/d/Y&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>To escape words and characters in the date format use <tt class="docutils literal"><span class="pre">\\</span></tt> in front of each character:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">post.published_at</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s2">&quot;F jS \\a\\t g:ia&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>You can also specify a timezone:</p>
<blockquote>
<div>{{ post.published_at|date(&#8220;m/d/Y&#8221;, &#8220;Europe/Paris&#8221;) }}</div></blockquote>
</div>
<div class="section" id="format">
<h3><tt class="docutils literal"><span class="pre">format</span></tt><a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">format</span></tt> filter formats a given string by replacing the placeholders
(placeholders follows the <tt class="docutils literal"><span class="pre">printf</span></tt> notation):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="s2">&quot;I like %s and %s.&quot;</span><span class="o">|</span><span class="nf">format</span><span class="o">(</span><span class="nv">foo</span><span class="o">,</span> <span class="s2">&quot;bar&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# returns I like foo and bar. (if the foo parameter equals to the foo string) #}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="replace">
<h3><tt class="docutils literal"><span class="pre">replace</span></tt><a class="headerlink" href="#replace" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">replace</span></tt> filter formats a given string by replacing the placeholders
(placeholders are free-form):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="s2">&quot;I like %this% and %that%.&quot;</span><span class="o">|</span><span class="nf">replace</span><span class="o">({</span><span class="s1">&#39;%this%&#39;</span><span class="o">:</span> <span class="nv">foo</span><span class="o">,</span> <span class="s1">&#39;%that%&#39;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="o">})</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# returns I like foo and bar. (if the foo parameter equals to the foo string) #}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="url-encode">
<h3><tt class="docutils literal"><span class="pre">url_encode</span></tt><a class="headerlink" href="#url-encode" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">url_encode</span></tt> filter URL encodes a given string.</p>
</div>
<div class="section" id="json-encode">
<h3><tt class="docutils literal"><span class="pre">json_encode</span></tt><a class="headerlink" href="#json-encode" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">json_encode</span></tt> filter returns the JSON representation of a string.</p>
</div>
<div class="section" id="title">
<h3><tt class="docutils literal"><span class="pre">title</span></tt><a class="headerlink" href="#title" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">title</span></tt> filter returns a titlecased version of the value. I.e. words will
start with uppercase letters, all remaining characters are lowercase.</p>
</div>
<div class="section" id="capitalize">
<h3><tt class="docutils literal"><span class="pre">capitalize</span></tt><a class="headerlink" href="#capitalize" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">capitalize</span></tt> filter capitalizes a value. The first character will be
uppercase, all others lowercase.</p>
</div>
<div class="section" id="upper">
<h3><tt class="docutils literal"><span class="pre">upper</span></tt><a class="headerlink" href="#upper" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">upper</span></tt> filter converts a value to uppercase.</p>
</div>
<div class="section" id="lower">
<h3><tt class="docutils literal"><span class="pre">lower</span></tt><a class="headerlink" href="#lower" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">lower</span></tt> filter converts a value to lowercase.</p>
</div>
<div class="section" id="striptags">
<h3><tt class="docutils literal"><span class="pre">striptags</span></tt><a class="headerlink" href="#striptags" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">striptags</span></tt> filter strips SGML/XML tags and replace adjacent whitespace by
one space.</p>
</div>
<div class="section" id="join">
<h3><tt class="docutils literal"><span class="pre">join</span></tt><a class="headerlink" href="#join" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">join</span></tt> filter returns a string which is the concatenation of the strings
in the sequence. The separator between elements is an empty string per
default, you can define it with the optional parameter:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]|</span><span class="nf">join</span><span class="o">(</span><span class="s1">&#39;|&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="c">{# returns 1|2|3 #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]|</span><span class="nf">join</span> <span class="cp">}}</span><span class="x"></span>
<span class="c">{# returns 123 #}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="reverse">
<h3><tt class="docutils literal"><span class="pre">reverse</span></tt><a class="headerlink" href="#reverse" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">reverse</span></tt> filter reverses an array or an object if it implements the
<tt class="docutils literal"><span class="pre">Iterator</span></tt> interface.</p>
</div>
<div class="section" id="length">
<h3><tt class="docutils literal"><span class="pre">length</span></tt><a class="headerlink" href="#length" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">length</span></tt> filters returns the number of items of a sequence or mapping, or
the length of a string.</p>
</div>
<div class="section" id="sort">
<h3><tt class="docutils literal"><span class="pre">sort</span></tt><a class="headerlink" href="#sort" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">sort</span></tt> filter sorts an array.</p>
</div>
<div class="section" id="default">
<h3><tt class="docutils literal"><span class="pre">default</span></tt><a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">default</span></tt> filter returns the passed default value if the value is
undefined or empty, otherwise the value of the variable:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">var</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;var is not defined&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">var.foo</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;foo item on var is not defined&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="s1">&#39;&#39;</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;passed var is empty&#39;</span><span class="o">)</span>  <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Read the documentation for the <tt class="docutils literal"><span class="pre">defined</span></tt> and <tt class="docutils literal"><span class="pre">empty</span></tt> tests below to
learn more about their semantics.</p>
</div>
</div>
<div class="section" id="keys">
<h3><tt class="docutils literal"><span class="pre">keys</span></tt><a class="headerlink" href="#keys" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">keys</span></tt> filter returns the keys of an array. It is useful when you want to
iterate over the keys of an array:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">key</span> <span class="k">in</span> <span class="nv">array</span><span class="o">|</span><span class="nf">keys</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="escape-e">
<h3><tt class="docutils literal"><span class="pre">escape</span></tt>, <tt class="docutils literal"><span class="pre">e</span></tt><a class="headerlink" href="#escape-e" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">escape</span></tt> filter converts the characters <tt class="docutils literal"><span class="pre">&amp;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;</span></tt>, <tt class="docutils literal"><span class="pre">'</span></tt>, and <tt class="docutils literal"><span class="pre">&quot;</span></tt> in
strings to HTML-safe sequences. Use this if you need to display text that
might contain such characters in HTML.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Internally, <tt class="docutils literal"><span class="pre">escape</span></tt> uses the PHP <tt class="docutils literal"><span class="pre">htmlspecialchars</span></tt> function.</p>
</div>
</div>
<div class="section" id="raw">
<h3><tt class="docutils literal"><span class="pre">raw</span></tt><a class="headerlink" href="#raw" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">raw</span></tt> filter marks the value as safe which means that in an environment
with automatic escaping enabled this variable will not be escaped if <tt class="docutils literal"><span class="pre">raw</span></tt> is
the last filter applied to it.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">autoescape</span> <span class="kp">true</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">var</span><span class="o">|</span><span class="nf">raw</span> <span class="cp">}}</span><span class="x"> </span><span class="c">{# var won&#39;t be escaped #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="merge">
<h3><tt class="docutils literal"><span class="pre">merge</span></tt><a class="headerlink" href="#merge" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">merge</span></tt> filter merges an array or a hash with the value:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">items</span> <span class="o">=</span> <span class="o">{</span> <span class="s1">&#39;apple&#39;</span><span class="o">:</span> <span class="s1">&#39;fruit&#39;</span><span class="o">,</span> <span class="s1">&#39;orange&#39;</span><span class="o">:</span> <span class="s1">&#39;fruit&#39;</span> <span class="o">}</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">items</span> <span class="o">=</span> <span class="nv">items</span><span class="o">|</span><span class="nf">merge</span><span class="o">({</span> <span class="s1">&#39;peugeot&#39;</span><span class="o">:</span> <span class="s1">&#39;car&#39;</span> <span class="o">})</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# items now contains { &#39;apple&#39;: &#39;fruit&#39;, &#39;orange&#39;: &#39;fruit&#39;, &#39;peugeot&#39;: &#39;car&#39; } #}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-of-built-in-tests">
<h2>List of built-in Tests<a class="headerlink" href="#list-of-built-in-tests" title="Permalink to this headline">¶</a></h2>
<div class="section" id="divisibleby">
<h3><tt class="docutils literal"><span class="pre">divisibleby</span></tt><a class="headerlink" href="#divisibleby" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">divisibleby</span></tt> checks if a variable is divisible by a number:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="none">
<h3><tt class="docutils literal"><span class="pre">none</span></tt><a class="headerlink" href="#none" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">none</span></tt> returns <tt class="docutils literal"><span class="pre">true</span></tt> if the variable is <tt class="docutils literal"><span class="pre">none</span></tt>:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">var</span> <span class="k">is</span> <span class="nf">none</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="even">
<h3><tt class="docutils literal"><span class="pre">even</span></tt><a class="headerlink" href="#even" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">even</span></tt> returns <tt class="docutils literal"><span class="pre">true</span></tt> if the given number is even:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">var</span> <span class="k">is</span> <span class="nf">even</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="odd">
<h3><tt class="docutils literal"><span class="pre">odd</span></tt><a class="headerlink" href="#odd" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">odd</span></tt> returns <tt class="docutils literal"><span class="pre">true</span></tt> if the given number is odd:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">var</span> <span class="k">is</span> <span class="nf">odd</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="sameas">
<h3><tt class="docutils literal"><span class="pre">sameas</span></tt><a class="headerlink" href="#sameas" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">sameas</span></tt> checks if a variable points to the same memory address than another
variable:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">foo.attribute</span> <span class="k">is</span> <span class="nf">sameas</span><span class="o">(</span><span class="kp">false</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    the foo attribute really is the ``false`` PHP value</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="constant">
<h3><tt class="docutils literal"><span class="pre">constant</span></tt><a class="headerlink" href="#constant" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">constant</span></tt> checks if a variable has the exact same value as a constant. You
can use either global constants or class constants:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">post.status</span> <span class="k">is</span> <span class="nf">constant</span><span class="o">(</span><span class="s1">&#39;Post::PUBLISHED&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    the status attribute is exactly the same as Post::PUBLISHED</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="defined">
<h3><tt class="docutils literal"><span class="pre">defined</span></tt><a class="headerlink" href="#defined" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">defined</span></tt> checks if a variable is defined in the current context. This is very
useful if you use the <tt class="docutils literal"><span class="pre">strict_variables</span></tt> option:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# defined works with variable names #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">foo</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# and attributes on variables names #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">foo.bar</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="empty">
<h3><tt class="docutils literal"><span class="pre">empty</span></tt><a class="headerlink" href="#empty" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">empty</span></tt> checks if a variable is empty:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# evaluates to true if the foo variable is null, false, or the empty string #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">foo</span> <span class="k">is</span> <span class="nf">empty</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-of-global-functions">
<h2>List of Global Functions<a class="headerlink" href="#list-of-global-functions" title="Permalink to this headline">¶</a></h2>
<p>The following functions are available in the global scope by default:</p>
<div class="section" id="range">
<h3><tt class="docutils literal"><span class="pre">range</span></tt><a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h3>
<p>Returns a list containing an arithmetic progression of integers. When step is
given, it specifies the increment (or decrement):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# returns 0, 1, 2, 3 #}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">6</span><span class="o">,</span> <span class="m">2</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# returns 0, 2, 4, 6 #}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The <tt class="docutils literal"><span class="pre">range</span></tt> function works as the native PHP <tt class="docutils literal"><span class="pre">range</span></tt> function.</p>
</div>
<p>The <tt class="docutils literal"><span class="pre">..</span></tt> operator is a syntactic sugar for the <tt class="docutils literal"><span class="pre">range</span></tt> function (with a
step of 1):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="m">0.</span><span class="nv">.10</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="cycle">
<h3><tt class="docutils literal"><span class="pre">cycle</span></tt><a class="headerlink" href="#cycle" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">cycle</span></tt> function can be used to cycle on an array of values:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="m">0.</span><span class="nv">.10</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">cycle</span><span class="o">([</span><span class="s1">&#39;odd&#39;</span><span class="o">,</span> <span class="s1">&#39;even&#39;</span><span class="o">],</span> <span class="nv">i</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The array can contain any number of values:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">fruits</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;apple&#39;</span><span class="o">,</span> <span class="s1">&#39;orange&#39;</span><span class="o">,</span> <span class="s1">&#39;citrus&#39;</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="m">0.</span><span class="nv">.10</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">cycle</span><span class="o">(</span><span class="nv">fruits</span><span class="o">,</span> <span class="nv">i</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3><tt class="docutils literal"><span class="pre">constant</span></tt><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">constant</span></tt> returns the constant value for a given string:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">some_date</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="nv">constant</span><span class="o">(</span><span class="s1">&#39;DATE_W3C&#39;</span><span class="o">))</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="extensions">
<h2>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h2>
<p>Twig can be easily extended. If you are looking for new tags or filters, have
a look at the Twig official extension repository:
<a class="reference external" href="http://github.com/fabpot/Twig-extensions">http://github.com/fabpot/Twig-extensions</a>.</p>
</div>
<div class="section" id="horizontal-reuse">
<h2>Horizontal Reuse<a class="headerlink" href="#horizontal-reuse" title="Permalink to this headline">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">New in version 1.1: </span>Horizontal reuse was added in Twig 1.1.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Horizontal reuse is an advanced Twig feature that is hardly ever needed in
regular templates. It is mainly used by projects that need to make
template blocks reusable without using inheritance.</p>
</div>
<p>Template inheritance is one of the most powerful Twig&#8217;s feature but it is
limited to single inheritance; a template can only extend one other template.
This limitation makes template inheritance simple to understand and easy to
debug:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Horizontal reuse is a way to achieve the same goal as multiple inheritance,
but without the associated complexity:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">use</span> <span class="s2">&quot;blocks.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">use</span></tt> statement tells Twig to import the blocks defined in
<tt class="docutils literal"><span class="pre">`blocks.html</span></tt> into the current template (it&#8217;s like macros, but for blocks):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="x"># blocks.html</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>In this example, the <tt class="docutils literal"><span class="pre">use</span></tt> statement imports the <tt class="docutils literal"><span class="pre">sidebar</span></tt> block into the
main template. The code is mostly equivalent to the following one (the
imported blocks are not outputted automatically):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">use</span></tt> tag only imports a template if it does not extend another
template, if it does not define macros, and if the body is empty. But it
can <em>use</em> other templates.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Because <tt class="docutils literal"><span class="pre">use</span></tt> statements are resolved independently of the context
passed to the template, the template reference cannot be an expression.</p>
</div>
<p>The main template can also override any imported block. If the template
already defines the <tt class="docutils literal"><span class="pre">sidebar</span></tt> block, then the one defined in <tt class="docutils literal"><span class="pre">blocks.html</span></tt>
is ignored. To avoid name conflicts, you can rename imported blocks:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">use</span> <span class="s2">&quot;blocks.html&quot;</span> <span class="k">with</span> <span class="nv">sidebar</span> <span class="k">as</span> <span class="nv">base_sidebar</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Renaming also allows you to simulate inheritance by calling the &#8220;parent&#8221; block
(like what you would have done with <tt class="docutils literal"><span class="pre">parent()</span></tt>):</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">use</span> <span class="s2">&quot;blocks.html&quot;</span> <span class="k">with</span> <span class="nv">sidebar</span> <span class="k">as</span> <span class="nv">parent_sidebar</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;parent_sidebar&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can use as many <tt class="docutils literal"><span class="pre">use</span></tt> statements as you want in any given template.
If two imported templates define the same block, the latest one wins.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Twig for Template Designers</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#ides-integration">IDEs Integration</a></li>
<li><a class="reference internal" href="#variables">Variables</a></li>
<li><a class="reference internal" href="#filters">Filters</a></li>
<li><a class="reference internal" href="#comments">Comments</a></li>
<li><a class="reference internal" href="#whitespace-control">Whitespace Control</a></li>
<li><a class="reference internal" href="#escaping">Escaping</a></li>
<li><a class="reference internal" href="#template-inheritance">Template Inheritance</a><ul>
<li><a class="reference internal" href="#base-template">Base Template</a></li>
<li><a class="reference internal" href="#child-template">Child Template</a></li>
<li><a class="reference internal" href="#parent-blocks">Parent Blocks</a></li>
<li><a class="reference internal" href="#named-block-end-tags">Named Block End-Tags</a></li>
<li><a class="reference internal" href="#block-nesting-and-scope">Block Nesting and Scope</a></li>
<li><a class="reference internal" href="#block-shortcuts">Block Shortcuts</a></li>
<li><a class="reference internal" href="#dynamic-inheritance">Dynamic Inheritance</a></li>
<li><a class="reference internal" href="#conditional-inheritance">Conditional Inheritance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#import-context-behavior">Import Context Behavior</a></li>
<li><a class="reference internal" href="#html-escaping">HTML Escaping</a><ul>
<li><a class="reference internal" href="#working-with-manual-escaping">Working with Manual Escaping</a></li>
<li><a class="reference internal" href="#working-with-automatic-escaping">Working with Automatic Escaping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#list-of-control-structures">List of Control Structures</a><ul>
<li><a class="reference internal" href="#for">For</a></li>
<li><a class="reference internal" href="#if">If</a></li>
<li><a class="reference internal" href="#macros">Macros</a></li>
<li><a class="reference internal" href="#id1">Filters</a></li>
<li><a class="reference internal" href="#assignments">Assignments</a></li>
<li><a class="reference internal" href="#extends">Extends</a></li>
<li><a class="reference internal" href="#block">Block</a></li>
<li><a class="reference internal" href="#include">Include</a></li>
<li><a class="reference internal" href="#import">Import</a></li>
</ul>
</li>
<li><a class="reference internal" href="#expressions">Expressions</a><ul>
<li><a class="reference internal" href="#literals">Literals</a></li>
<li><a class="reference internal" href="#math">Math</a></li>
<li><a class="reference internal" href="#logic">Logic</a></li>
<li><a class="reference internal" href="#comparisons">Comparisons</a></li>
<li><a class="reference internal" href="#containment-operator">Containment Operator</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#other-operators">Other Operators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#list-of-built-in-filters">List of built-in Filters</a><ul>
<li><a class="reference internal" href="#date"><tt class="docutils literal"><span class="pre">date</span></tt></a></li>
<li><a class="reference internal" href="#format"><tt class="docutils literal"><span class="pre">format</span></tt></a></li>
<li><a class="reference internal" href="#replace"><tt class="docutils literal"><span class="pre">replace</span></tt></a></li>
<li><a class="reference internal" href="#url-encode"><tt class="docutils literal"><span class="pre">url_encode</span></tt></a></li>
<li><a class="reference internal" href="#json-encode"><tt class="docutils literal"><span class="pre">json_encode</span></tt></a></li>
<li><a class="reference internal" href="#title"><tt class="docutils literal"><span class="pre">title</span></tt></a></li>
<li><a class="reference internal" href="#capitalize"><tt class="docutils literal"><span class="pre">capitalize</span></tt></a></li>
<li><a class="reference internal" href="#upper"><tt class="docutils literal"><span class="pre">upper</span></tt></a></li>
<li><a class="reference internal" href="#lower"><tt class="docutils literal"><span class="pre">lower</span></tt></a></li>
<li><a class="reference internal" href="#striptags"><tt class="docutils literal"><span class="pre">striptags</span></tt></a></li>
<li><a class="reference internal" href="#join"><tt class="docutils literal"><span class="pre">join</span></tt></a></li>
<li><a class="reference internal" href="#reverse"><tt class="docutils literal"><span class="pre">reverse</span></tt></a></li>
<li><a class="reference internal" href="#length"><tt class="docutils literal"><span class="pre">length</span></tt></a></li>
<li><a class="reference internal" href="#sort"><tt class="docutils literal"><span class="pre">sort</span></tt></a></li>
<li><a class="reference internal" href="#default"><tt class="docutils literal"><span class="pre">default</span></tt></a></li>
<li><a class="reference internal" href="#keys"><tt class="docutils literal"><span class="pre">keys</span></tt></a></li>
<li><a class="reference internal" href="#escape-e"><tt class="docutils literal"><span class="pre">escape</span></tt>, <tt class="docutils literal"><span class="pre">e</span></tt></a></li>
<li><a class="reference internal" href="#raw"><tt class="docutils literal"><span class="pre">raw</span></tt></a></li>
<li><a class="reference internal" href="#merge"><tt class="docutils literal"><span class="pre">merge</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#list-of-built-in-tests">List of built-in Tests</a><ul>
<li><a class="reference internal" href="#divisibleby"><tt class="docutils literal"><span class="pre">divisibleby</span></tt></a></li>
<li><a class="reference internal" href="#none"><tt class="docutils literal"><span class="pre">none</span></tt></a></li>
<li><a class="reference internal" href="#even"><tt class="docutils literal"><span class="pre">even</span></tt></a></li>
<li><a class="reference internal" href="#odd"><tt class="docutils literal"><span class="pre">odd</span></tt></a></li>
<li><a class="reference internal" href="#sameas"><tt class="docutils literal"><span class="pre">sameas</span></tt></a></li>
<li><a class="reference internal" href="#constant"><tt class="docutils literal"><span class="pre">constant</span></tt></a></li>
<li><a class="reference internal" href="#defined"><tt class="docutils literal"><span class="pre">defined</span></tt></a></li>
<li><a class="reference internal" href="#empty"><tt class="docutils literal"><span class="pre">empty</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#list-of-global-functions">List of Global Functions</a><ul>
<li><a class="reference internal" href="#range"><tt class="docutils literal"><span class="pre">range</span></tt></a></li>
<li><a class="reference internal" href="#cycle"><tt class="docutils literal"><span class="pre">cycle</span></tt></a></li>
<li><a class="reference internal" href="#id2"><tt class="docutils literal"><span class="pre">constant</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#extensions">Extensions</a></li>
<li><a class="reference internal" href="#horizontal-reuse">Horizontal Reuse</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="intro.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">Twig for Developers</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/templates.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api.html" title="Twig for Developers"
             >next</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="index.html">Twig v1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Rafael Goulart.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>